# Игра по фильму **«Алиса в Пограничье»**  
## Король Бубей

**Сайт:** - [https://king-of-diamonds-alice-in-borderland.onrender.com](https://king-of-diamonds-alice-in-borderland.onrender.com)  
- [https://king-of-diamonds-alice-in-borderland.fly.dev](https://king-of-diamonds-alice-in-borderland.fly.dev)  

**Описание:**  
Игра на размещённом сервере работает **очень медленно**.  
Локально же всё работает **гораздо быстрее**.

---

## Как это работает

1. Вы заходите на сайт.
2. Выбираете язык и имя.
3. Создаёте или подключаетесь к комнате.

> ⚠️ **Важно:** если вы обновите страницу во время игры — вы вылетите и больше не сможете зайти обратно. Восстановление не предусмотрено в активной игре.

---

## Правила

- Игра рассчитана на **5 игроков**.
- Если игроков меньше — заходят **боты**.
- У ботов экспоненциальное распределение чисел от 0 до 100 (чаще выбираются меньшие значения).
- Раунд длится 3 минуты. Если за это время вы не введёте число, оно будет сгенерировано автоматически — по экспоненциальному распределению.

### Раунд:

1. Каждый игрок выбирает число от `0` до `100`.
2. Вычисляется **среднее значение** всех чисел.
3. Среднее умножается на `0.8`.
4. Побеждает тот, чьё число **ближе всего** к полученному результату.
5. Победитель **выигрывает раунд**, остальные теряют по **1 очку**.
6. Игра начинается с **10 очков** у каждого.
7. Проигрывает тот, у кого **0 очков**.

---

## Интерфейс и отображение

- Справа: список участников, кто сколько ввёл, и **получившееся среднее** (умноженное на 0.8).
- Новые правила **добавляются** к старым, если они не взаимоисключающие.
- При 4 игроках и менее — вводятся **дополнительные правила**, исключающие ничьи.

---

## Дополнительные правила:

- **5 игроков**: ничья возможна, никому не списываются очки.
- **4 игрока**: если два и более игроков выбрали одинаковое число — оно **аннулируется**, и они теряют по 1 очку.
- **3 игрока**: если кто-то выбрал **точное выигрышное число**, остальные теряют по **2 очка**.
- **2 игрока**: если один выбрал `0`, а другой `100` — **побеждает 100**.

---

## Техническая информация

- **Node.js**: `v22.15.0`
- **Express.js**
- Запуск в разработке: `npm run dev`
- Запуск проекта: `npm run start`
- dashboard.render.com